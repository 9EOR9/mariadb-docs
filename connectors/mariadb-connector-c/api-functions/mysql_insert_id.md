# mysql\_insert\_id

## Syntax

```c
my_ulonglong mysql_insert_id(MYSQL * mysql);
```

* `mysql` - a mysql handle, which was previously allocated by [mysql\_init()](mysql_init.md) or [mysql\_real\_connect()](mysql_real_connect.md).

## Description

The mysql\_insert\_id() function returns the ID generated by a query on a table with a column having the [AUTO\_INCREMENT](https://app.gitbook.com/s/SsmexDFPv2xG2OTyO5yV/reference/data-types/auto_increment) attribute or the value for the last usage of [LAST\_INSERT\_ID(expr)](https://app.gitbook.com/s/SsmexDFPv2xG2OTyO5yV/reference/sql-statements-and-structure/sql-statements/built-in-functions/secondary-functions/information-functions/last_insert_id). If the last query wasn't an [INSERT](https://app.gitbook.com/s/SsmexDFPv2xG2OTyO5yV/reference/sql-statements-and-structure/sql-statements/data-manipulation/inserting-loading-data/insert) or [UPDATE](https://app.gitbook.com/s/SsmexDFPv2xG2OTyO5yV/reference/sql-statements-and-structure/sql-statements/data-manipulation/changing-deleting-data/update) statement or if the modified table does not have a column with the [AUTO\_INCREMENT](https://app.gitbook.com/s/SsmexDFPv2xG2OTyO5yV/reference/data-types/auto_increment) attribute and [LAST\_INSERT\_ID](https://app.gitbook.com/s/SsmexDFPv2xG2OTyO5yV/reference/sql-statements-and-structure/sql-statements/built-in-functions/secondary-functions/information-functions/last_insert_id) was not used, this function will return zero.

{% hint style="info" %}
When performing a multi insert statement, mysql\_insert\_id() will return the value of the first row.
{% endhint %}

## See also

* [AUTO INCREMENT](https://app.gitbook.com/s/SsmexDFPv2xG2OTyO5yV/reference/data-types/auto_increment)
* [mysql\_stmt\_insert\_id()](../api-prepared-statement-functions/mysql_stmt_insert_id.md)
* [LAST\_INSERT\_ID()](https://app.gitbook.com/s/SsmexDFPv2xG2OTyO5yV/reference/sql-statements-and-structure/sql-statements/built-in-functions/secondary-functions/information-functions/last_insert_id)


{% @marketo/form formid="4316" %}
