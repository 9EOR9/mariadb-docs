# mysql.user Table

**System tables should not normally be edited directly. Use the related SQL statements instead.**

The [mysql.global\_priv table](mysql-global_priv-table.md) has replaced the `mysql.user` table, and `mysql.user` should be considered obsolete. It is now a [view](../../../../../server-usage/views/) into `mysql.global_priv` created for compatibility with older applications and monitoring scripts. New tools are supposed to use `INFORMATION_SCHEMA` tables. The dedicated `mariadb.sys` user is created as the definer of the view. Previously, `root` was the definer, which resulted in privilege problems when this username was changed ([MDEV-19650](https://jira.mariadb.org/browse/MDEV-19650)).

The `mysql.user` table contains information about users that have permission to access the MariaDB server, and their global privileges. The table can be queried and although it is possible to directly update it, it is best to use [GRANT](../../../account-management-sql-statements/grant.md) and [CREATE USER](../../../account-management-sql-statements/create-user.md) for adding users and privileges.

Note that the MariaDB privileges occur at many levels. A user may not be granted `create` privilege at the user level, but may still have `create` permission on certain tables or databases, for example. See [privileges](../../../account-management-sql-statements/grant.md) for a more complete view of the MariaDB privilege system.

The `mysql.user` table contains the following fields:

| Field                    | Type                                 | Null | Key | Default  | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Field | Type | Null | Key | Default | Description |
| ------------------------ | ------------------------------------ | ---- | --- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----- | ---- | ---- | --- | ------- | ----------- |
| Field                    | Type                                 | Null | Key | Default  | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |       |      |      |     |         |             |
| Host                     | char(60)                             | NO   | PRI |          | Host (together with User makes up the unique identifier for this account.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |       |      |      |     |         |             |
| User                     | char(80)                             | NO   | PRI |          | User (together with Host makes up the unique identifier for this account.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |       |      |      |     |         |             |
| Password                 | longtext                             | NO   |     |          | Hashed password, generated by the [PASSWORD()](../../../../sql-functions/secondary-functions/encryption-hashing-and-compression-functions/password.md) function.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |       |      |      |     |         |             |
| Select\_priv             | enum('N','Y')                        | NO   |     | N        | Can perform [SELECT](../../../data-manipulation/selecting-data/select.md) statements.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |       |      |      |     |         |             |
| Insert\_priv             | enum('N','Y')                        | NO   |     | N        | Can perform [INSERT](../../../data-manipulation/inserting-loading-data/insert.md) statements.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |       |      |      |     |         |             |
| Update\_priv             | enum('N','Y')                        | NO   |     | N        | Can perform [UPDATE](../../../data-manipulation/changing-deleting-data/update.md) statements.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |       |      |      |     |         |             |
| Delete\_priv             | enum('N','Y')                        | NO   |     | N        | Can perform [DELETE](../../../data-manipulation/changing-deleting-data/delete.md) statements.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |       |      |      |     |         |             |
| Create\_priv             | enum('N','Y')                        | NO   |     | N        | Can [CREATE DATABASE's](../../../data-definition/create/create-database.md) or [CREATE TABLE's](../../../data-definition/create/create-table.md).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |       |      |      |     |         |             |
| Drop\_priv               | enum('N','Y')                        | NO   |     | N        | Can [DROP DATABASE's](../../../data-definition/drop/drop-database.md) or [DROP TABLE's](../../../data-definition/drop/drop-table.md).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |       |      |      |     |         |             |
| Reload\_priv             | enum('N','Y')                        | NO   |     | N        | Can execute [FLUSH](../../flush-commands/flush.md) statements or equivalent [mariadb-admin](../../../../../clients-and-utilities/administrative-tools/mariadb-admin.md) commands.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |       |      |      |     |         |             |
| Shutdown\_priv           | enum('N','Y')                        | NO   |     | N        | Can shut down the server with [SHUTDOWN](../../shutdown.md) or [mariadb-admin shutdown](../../../../../clients-and-utilities/administrative-tools/mariadb-admin.md).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |       |      |      |     |         |             |
| Process\_priv            | enum('N','Y')                        | NO   |     | N        | Can show information about active processes, via [SHOW PROCESSLIST](../../show/show-processlist.md) or [mariadb-admin processlist](../../../../../clients-and-utilities/administrative-tools/mariadb-admin.md).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |       |      |      |     |         |             |
| File\_priv               | enum('N','Y')                        | NO   |     | N        | Read and write files on the server, using statements like [LOAD DATA INFILE](../../../data-manipulation/inserting-loading-data/load-data-into-tables-or-index/load-data-infile.md) or functions like [LOAD\_FILE()](../../../../sql-functions/string-functions/load_file.md). Also needed to create [CONNECT](../../../../storage-engines/connect/) outward tables. MariaDB server must have permission to access those files.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |       |      |      |     |         |             |
| Grant\_priv              | enum('N','Y')                        | NO   |     | N        | User can [grant](../../../account-management-sql-statements/grant.md) privileges they possess.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |       |      |      |     |         |             |
| References\_priv         | enum('N','Y')                        | NO   |     | N        | Unused                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |       |      |      |     |         |             |
| Index\_priv              | enum('N','Y')                        | NO   |     | N        | Can create an index on a table using the [CREATE INDEX](../../../../sql-statements-and-structure/sql-statements/data-definition/create/create-index.md) statement. Without the INDEX privilege, user can still create indexes when creating a table using the [CREATE TABLE](../../../data-definition/create/create-table.md) statement if the user has have the CREATE privilege, and user can create indexes using the [ALTER TABLE](../../../data-definition/alter/alter-table.md) statement if they have the ALTER privilege.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |       |      |      |     |         |             |
| Alter\_priv              | enum('N','Y')                        | NO   |     | N        | Can perform [ALTER TABLE](../../../data-definition/alter/alter-table.md) statements.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |       |      |      |     |         |             |
| Show\_db\_priv           | enum('N','Y')                        | NO   |     | N        | Can list all databases using the [SHOW DATABASES](../../show/show-databases.md) statement. Without the SHOW DATABASES privilege, user can still issue the SHOW DATABASES statement, but it will only list databases containing tables on which they have privileges.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |       |      |      |     |         |             |
| Super\_priv              | enum('N','Y')                        | NO   |     | N        | Can execute superuser statements: [CHANGE MASTER TO](../../replication-statements/change-master-to.md), [KILL](../../kill.md) (users who do not have this privilege can only KILL their own threads), [PURGE LOGS](../../purge-binary-logs.md), [SET global system variables](../../set-commands/set.md), or the [mariadb-admin debug](../../../../../clients-and-utilities/administrative-tools/mariadb-admin.md) command. Also, this permission allows the user to write data even if the [read\_only](../../../../../ha-and-performance/optimization-and-tuning/system-variables/server-system-variables.md#read_only) startup option is set, enable or disable logging, enable or disable replication on slaves, specify a DEFINER for statements that support that clause, connect once after reaching the MAX\_CONNECTIONS. If a statement has been specified for the [init-connect](../../../../../ha-and-performance/optimization-and-tuning/system-variables/server-system-variables.md#init_connect) mysqld option, that command will not be executed when a user with SUPER privileges connects to the server. |       |      |      |     |         |             |
| Create\_tmp\_table\_priv | enum('N','Y')                        | NO   |     | N        | Can create temporary tables with the [CREATE TEMPORARY TABLE](../../../data-definition/create/create-table.md) statement.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |       |      |      |     |         |             |
| Lock\_tables\_priv       | enum('N','Y')                        | NO   |     | N        | Acquire explicit locks using the [LOCK TABLES](../../../transactions/lock-tables.md) statement; user also needs to have the SELECT privilege on a table in order to lock it.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |       |      |      |     |         |             |
| Execute\_priv            | enum('N','Y')                        | NO   |     | N        | Can execute [stored procedure](../../../../../server-usage/stored-routines/stored-procedures/) or functions.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |       |      |      |     |         |             |
| Repl\_slave\_priv        | enum('N','Y')                        | NO   |     | N        | Accounts used by slave servers on the master need this privilege. This is needed to get the updates made on the master.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |       |      |      |     |         |             |
| Repl\_client\_priv       | enum('N','Y')                        | NO   |     | N        | Can execute [SHOW MASTER STATUS](../../show/show-binlog-status.md) and [SHOW SLAVE STATUS](../../show/show-replica-status.md) statements.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |       |      |      |     |         |             |
| Create\_view\_priv       | enum('N','Y')                        | NO   |     | N        | Can create a view using the [CREATE\_VIEW](../../../../../server-usage/views/create-view.md) statement.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |       |      |      |     |         |             |
| Show\_view\_priv         | enum('N','Y')                        | NO   |     | N        | Can show the [CREATE VIEW](../../../../../server-usage/views/create-view.md) statement to create a view using the [SHOW CREATE VIEW](../../show/show-create-view.md) statement.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |       |      |      |     |         |             |
| Create\_routine\_priv    | enum('N','Y')                        | NO   |     | N        | Can create stored programs using the [CREATE PROCEDURE](../../../../../server-usage/stored-routines/stored-procedures/create-procedure.md) and [CREATE FUNCTION](../../../data-definition/create/create-function.md) statements.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |       |      |      |     |         |             |
| Alter\_routine\_priv     | enum('N','Y')                        | NO   |     | N        | Can change the characteristics of a stored function using the [ALTER FUNCTION](../../../data-definition/alter/alter-function.md) statement.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |       |      |      |     |         |             |
| Create\_user\_priv       | enum('N','Y')                        | NO   |     | N        | Can create a user using the [CREATE USER](../../../account-management-sql-statements/create-user.md) statement, or implicitly create a user with the [GRANT](../../../account-management-sql-statements/grant.md) statement.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |       |      |      |     |         |             |
| Event\_priv              | enum('N','Y')                        | NO   |     | N        | Create, drop and alter [events](../../../../../server-usage/triggers-events/event-scheduler/).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |       |      |      |     |         |             |
| Trigger\_priv            | enum('N','Y')                        | NO   |     | N        | Can execute [triggers](../../../../../server-usage/triggers-events/triggers/) associated with tables the user updates, execute the [CREATE TRIGGER](../../../../../server-usage/triggers-events/triggers/create-trigger.md) and [DROP TRIGGER](../../../data-definition/drop/drop-trigger.md) statements.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |       |      |      |     |         |             |
| Create\_tablespace\_priv | enum('N','Y')                        | NO   |     | N        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |       |      |      |     |         |             |
| Delete\_history\_priv    | enum('N','Y')                        | NO   |     | N        | Can delete rows created through [system versioning](../../../../sql-structure/temporal-tables/system-versioned-tables.md).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |       |      |      |     |         |             |
| ssl\_type                | enum('', 'ANY', 'X509', 'SPECIFIED') | NO   |     |          | TLS type - see [TLS options](../../../account-management-sql-statements/grant.md#per-account-tls-options).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |       |      |      |     |         |             |
| ssl\_cipher              | blob                                 | NO   |     | NULL     | TLS cipher - see [TLS options](../../../account-management-sql-statements/grant.md#per-account-tls-options).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |       |      |      |     |         |             |
| x509\_issuer             | blob                                 | NO   |     | NULL     | X509 cipher - see [TLS options](../../../account-management-sql-statements/grant.md#per-account-tls-options).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |       |      |      |     |         |             |
| x509\_subject            | blob                                 | NO   |     | NULL     | SSL subject - see [TLS options](../../../account-management-sql-statements/grant.md#per-account-tls-options).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |       |      |      |     |         |             |
| max\_questions           | int(11) unsigned                     | NO   |     | 0        | Number of queries the user can perform per hour. Zero is unlimited. See [per-account resource limits](../../../account-management-sql-statements/grant.md#setting-per-account-resources-limits).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |       |      |      |     |         |             |
| max\_updates             | int(11) unsigned                     | NO   |     | 0        | Number of updates the user can perform per hour. Zero is unlimited. See [per-account resource limits](../../../account-management-sql-statements/grant.md#setting-per-account-resources-limits).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |       |      |      |     |         |             |
| max\_connections         | int(11) unsigned                     | NO   |     | 0        | Number of connections the account can start per hour. Zero is unlimited. See [per-account resource limits](../../../account-management-sql-statements/grant.md#setting-per-account-resources-limits).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |       |      |      |     |         |             |
| max\_user\_connections   | int(11)                              | NO   |     | 0        | Number of simultaneous connections the account can have. Zero is unlimited. See [per-account resource limits](../../../account-management-sql-statements/grant.md#setting-per-account-resources-limits).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |       |      |      |     |         |             |
| plugin                   | char(64)                             | NO   |     |          | Authentication plugin used on connection. If empty, uses the [default](mysql-user-table.md#authentication-plugin).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |       |      |      |     |         |             |
| authentication\_string   | text                                 | NO   |     | NULL     | Authentication string for the authentication plugin.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |       |      |      |     |         |             |
| password\_expired        | enum('N','Y')                        | NO   |     | N        | MySQL-compatibility option, not implemented in MariaDB.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |       |      |      |     |         |             |
| is\_role                 | enum('N','Y')                        | NO   |     | N        | Whether the user is a [role](../../../../../security/user-account-management/roles/).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |       |      |      |     |         |             |
| default\_role            | char(80)                             | NO   |     | N        | Role which will be enabled on user login automatically.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |       |      |      |     |         |             |
| max\_statement\_time     | decimal(12,6)                        | NO   |     | 0.000000 | If non-zero, how long queries can run before being killed automatically.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |       |      |      |     |         |             |
| Field                    | Type                                 | Null | Key | Default  | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |       |      |      |     |         |             |

The [Acl\_roles](../../../../../ha-and-performance/optimization-and-tuning/system-variables/server-status-variables.md#acl_roles) status variable indicates how many rows the `mysql.user` table contains where `is_role='Y'`.

The [Acl\_users](../../../../../ha-and-performance/optimization-and-tuning/system-variables/server-status-variables.md#acl_users) status variable, indicates how many rows the `mysql.user` table contains where `is_role='N'`.

### Authentication Plugin

When the `plugin` column is empty, MariaDB defaults to authenticating accounts with either the `[mysql_native_password](../../../../../plugins/authentication-plugins/authentication-plugin-mysql_native_password.md)` or the `[mysql_old_password](../../../../../plugins/authentication-plugins/authentication-plugin-mysql_old_password.md)` plugins. It decides which based on the hash used in the value for the `Password` column. When there's no password set or when the 4.1 password hash is used, (which is 41 characters long), MariaDB uses the `[mysql_native_password](../../../../../plugins/authentication-plugins/authentication-plugin-mysql_native_password.md)` plugin. The `[mysql_old_password](../../../../../plugins/authentication-plugins/authentication-plugin-mysql_old_password.md)` plugin is used with pre-4.1 password hashes, (which are 16 characters long).

MariaDB also supports the use of alternative [authentication plugins](../../../../plugins/authentication-plugins/). When the `plugin` column is not empty for the given account, MariaDB uses it to authenticate connection attempts. The specific plugin then uses the value of either the `Password` column or the `authentication_string` column to authenticate the user.

A specific authentication plugin can be used for an account by providing the `IDENTIFIED VIA authentication_plugin` clause with the [CREATE USER](../../../account-management-sql-statements/create-user.md), [ALTER USER](../../../account-management-sql-statements/alter-user.md), or [GRANT](../../../account-management-sql-statements/grant.md) statements.

For example, the following statement would create an account that authenticates with the [PAM authentication plugin](../../../../plugins/authentication-plugins/authentication-with-pluggable-authentication-modules-pam/authentication-plugin-pam.md):

```
CREATE USER foo2@test IDENTIFIED VIA pam;
```

If the specific authentication plugin uses the `authentication_string` column, then this value for the account can be specified after a `USING` or `AS` keyword. For example, the [PAM authentication plugin](../../../../plugins/authentication-plugins/authentication-with-pluggable-authentication-modules-pam/authentication-plugin-pam.md) accepts a [service name](../../../../plugins/authentication-plugins/authentication-with-pluggable-authentication-modules-pam/authentication-plugin-pam.md#configuring-the-pam-service) that would go into the `authentication_string` column for the account:

```
CREATE USER foo2@test IDENTIFIED VIA pam USING 'mariadb';
```

CC BY-SA / Gnu FDL
